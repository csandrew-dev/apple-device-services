{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "title": "Profile",
  "description": "A profile’s properties and their values.",
  "x-apple-developer-api-uri": "https://developer.apple.com/documentation/devicemanagement/profile",
  "type": "object",
  "required": [ "is_mdm_removable", "org_magic" ],
  "properties": {
    "allow_pairing": {
      "description": "Default is `true`. In iOS 13, this property was deprecated.",
      "default": true,
      "type": "boolean"
    },
    "anchor_certs": {
      "description": "An array of strings, where each string is a DER-encoded (Distinguished Encoding Rules) certificate converted to Base64 encoding. If provided, the device uses these certificates as trusted anchor certificates when evaluating the trust of the connection to the MDM server URL. Otherwise, the device uses the built-in root certificates.",
      "type": "array",
      "items": {
        "type": "string"
      }
    },
    "auto_advance_setup": {
      "description": "If set to true, the device will tell Setup Assistant to automatically advance though its screens. Default is `false`.\nThis key is valid in X-Server-Protocol-Version 2 and later.\nAvailable on tvOS and macOS 11 and later.",
      "type": "boolean"
    },
    "await_device_configured": {
      "description": "If true, the device will not continue in Setup Assistant until the MDM server sends a command that states the device is configured (see [Device Configured](https://developer.apple.com/documentation/devicemanagement/device-configured-command). Default is `false`. Ignored on iOS devices if `is_supervised` is `false`. This key is valid in X-Server-Protocol-Version 2 and later.",
      "type": "boolean"
    },
    "configuration_web_url": {
      "description": "The URL that the clients load into a web view during setup. This site provides the appropriate UI to authenticate the user, and when satisfied, initiates the download of the MDM enrollment profile.\nTo provide the MDM enrollment profile, the web view looks for a page with MIME type `application/x-apple-aspen-config`.\nWhile the user is allowed to navigate to any site or host during authentication, the MDM enrollment profile must originate from the same host as specified in this field.",
      "type": "string",
      "format": "uri"
    },
    "department": {
      "description": "The user-defined department or location name.",
      "type": "string"
    },
    "devices": {
      "description": "Array of strings that contains device serial numbers (may be empty).",
      "type": "array",
      "items": {
        "type": "string"
      }
    },
    "do_not_use_profile_from_backup": {
      "description": "If true, the device does not use the profile when it restores a backup. Default is `false`. Available in iOS 26 and later, and visionOS 26 and later; otherwise ignored by devices.",
      "type": "boolean"
    },
    "is_mandatory": {
      "description": "If true, the user may not skip applying the profile returned by the MDM server. Default is `false`.\nIn iOS 13 and later, all DEP enrollments are mandatory.",
      "type": "boolean"
    },
    "is_mdm_removable": {
      "description": "If false, the MDM payload delivered by the configuration URL cannot be removed by the user via the user interface on the device; that is, the MDM payload is locked onto the device. This key can be set to false only if `is_supervised` is set to `true`. Defaults to `true`.",
      "default": true,
      "type": "boolean"
    },
    "is_multi_user": {
      "description": "If true, tells the device to configure for Shared iPad. Default is false. This key is valid only for Apple School Manager or Apple Business Manager organizations using X-Server-Protocol-Version 2 and later.\nDevices that do not meet the Shared iPad minimum requirements do not honor this command. With iOS devices, `com.apple.mdm.per-user-connections` must be added to the MDM enrollment profile’s Server Capabilities.",
      "type": "boolean"
    },
    "is_return_to_service": {
      "description": "If true, the device is configured for Rapid Return to Service. Default is `false`. Available in iOS 26 and later, and visionOS 26 and later; otherwise ignored by devices.",
      "type": "boolean"
    },
    "is_supervised": {
      "description": "If true, the device must be supervised. Defaults to `false`.\nIn iOS 11, DEP devices that are not supervised have been deprecated.\nIn iOS 13, all DEP devices will be supervised and the OS will ignore the `is_supervised` flag completely.",
      "type": "boolean"
    },
    "language": {
      "description": "A language designator is a code that represents a language.\nUse the two-letter ISO 639-1 standard (preferred) or the three-letter ISO 639-2 standard. If an ISO 639-1 code is not available for a particular language, use the ISO 639-2 code instead.\nSee [Language and Locale IDs](https://developer.apple.com/library/archive/documentation/MacOSX/Conceptual/BPInternational/LanguageandLocaleIDs/LanguageandLocaleIDs.html) for more information.\nExample two-letter: `en`, `fr`, `ja`\nExample three-letter: `eng`, `fre`, `jpn`, `haw`\nAvailable on tvOS and macOS 11 and later.",
      "examples": [ "en", "fr", "ja", "eng", "fre", "jpn", "haw" ],
      "type": "string",
      "maxLength": 3,
      "minLength": 2
    },
    "org_magic": {
      "description": "A string that uniquely identifies various services that are managed by a single organization.",
      "type": "string"
    },
    "profile_name": {
      "description": "A human-readable name for the profile.",
      "type": "string"
    },
    "profile_uuid": {
      "$comment": "Undocumented key only returned when requesting a profile from Apple.",
      "type": "string"
    },
    "region": {
      "description": "A region designator is a code that represents a country. Available on tvOS and macOS 11 and later.\nUse the ISO 3166-1 standard, a two-letter, capitalized code.\nExamples: US, GB, AU",
      "type": "string",
      "maxLength": 2,
      "minLength": 2
    },
    "skip_setup_items": {
      "description": "A list of setup panes to skip. The list of valid strings is defined in [SkipKeys](https://developer.apple.com/documentation/devicemanagement/skipkeys).",
      "type": "array",
      "items": {
        "type": "string"
      }
    },
    "supervising_host_certs": {
      "description": "Each string contains a DER-encoded certificate converted to Base64 encoding. If provided, the device will continue to pair with a host that possesses one of these certificates even when `allow_pairing` is set to `false`. If `is_supervised` is `false`, this list is unused.",
      "type": "array",
      "items": {
        "type": "string"
      }
    },
    "support_email_address": {
      "description": "A support email address for the organization. This key is valid in X-Server-Protocol-Version 2 and later.",
      "type": "string",
      "format": "email"
    },
    "support_phone_number": {
      "description": "A support phone number for the organization.",
      "type": "string"
    },
    "url": {
      "description": "String. The URL of the MDM server.",
      "type": "string",
      "format": "uri"
    }
  }
}
